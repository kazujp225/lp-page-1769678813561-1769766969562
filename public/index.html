<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Imported: https://newme-school.co.jp</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">
  <style>/* Reset & Base */
*, *::before, *::after {
  box-sizing: border-box;
  border-width: 0;
  border-style: solid;
  border-color: #e5e7eb;
}
html {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  font-family: 'Noto Sans JP', ui-sans-serif, system-ui, sans-serif;
}
body {
  margin: 0;
  line-height: inherit;
  font-family: 'Noto Sans JP', sans-serif;
  scroll-behavior: smooth;
}
img {
  display: block;
  max-width: 100%;
  height: auto;
}
a {
  color: inherit;
  text-decoration: inherit;
}
button, input, textarea {
  font-family: inherit;
  font-size: 100%;
  line-height: inherit;
  color: inherit;
  margin: 0;
  padding: 0;
}
button {
  cursor: pointer;
  background-color: transparent;
  background-image: none;
}

/* Layout */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.items-end { align-items: flex-end; }
.justify-between { justify-content: space-between; }
.justify-center { justify-content: center; }
.gap-6 { gap: 1.5rem; }

/* Sizing */
.w-full { width: 100%; }
.h-16 { height: 4rem; }
.h-48 { height: 12rem; }
.h-auto { height: auto; }
.min-h-screen { min-height: 100vh; }
.max-w-sm { max-width: 24rem; }
.max-w-md { max-width: 28rem; }
.max-w-xl { max-width: 36rem; }

/* Spacing */
.mx-auto { margin-left: auto; margin-right: auto; }
.mt-1 { margin-top: 0.25rem; }
.mt-2 { margin-top: 0.5rem; }
.mb-8 { margin-bottom: 2rem; }
.px-4 { padding-left: 1rem; padding-right: 1rem; }
.px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
.px-8 { padding-left: 2rem; padding-right: 2rem; }
.py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
.py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
.py-8 { padding-top: 2rem; padding-bottom: 2rem; }
.py-12 { padding-top: 3rem; padding-bottom: 3rem; }
.p-2 { padding: 0.5rem; }
.space-y-4 > * + * { margin-top: 1rem; }

/* Position */
.relative { position: relative; }
.absolute { position: absolute; }
.sticky { position: sticky; }
.inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
.inset-x-0 { left: 0; right: 0; }
.top-0 { top: 0; }
.top-10 { top: 2.5rem; }
.top-1\/2 { top: 50%; }
.bottom-10 { bottom: 2.5rem; }
.-translate-y-1\/2 { transform: translateY(-50%); }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-50 { z-index: 50; }

/* Typography */
.text-sm { font-size: 0.875rem; line-height: 1.25rem; }
.text-xl { font-size: 1.25rem; line-height: 1.75rem; }
.text-2xl { font-size: 1.5rem; line-height: 2rem; }
.font-medium { font-weight: 500; }
.font-bold { font-weight: 700; }
.font-black { font-weight: 900; }
.tracking-tight { letter-spacing: -0.025em; }
.leading-tight { line-height: 1.25; }
.text-center { text-align: center; }
.whitespace-pre-wrap { white-space: pre-wrap; }

/* Colors */
.text-white { color: #ffffff; }
.text-black { color: #000000; }
.text-gray-400 { color: #9ca3af; }
.text-gray-600 { color: #4b5563; }
.text-gray-700 { color: #374151; }
.text-gray-900 { color: #111827; }
.bg-white { background-color: #ffffff; }
.bg-white\/90 { background-color: rgba(255, 255, 255, 0.9); }
.bg-gray-50 { background-color: #f9fafb; }
.bg-gray-100 { background-color: #f3f4f6; }
.bg-gray-900 { background-color: #111827; }
.bg-blue-600 { background-color: #2563eb; }

/* Borders */
.border { border-width: 1px; }
.border-gray-300 { border-color: #d1d5db; }
.rounded-md { border-radius: 0.375rem; }
.rounded-full { border-radius: 9999px; }
.rounded-lg { border-radius: 0.5rem; }

/* Shadows */
.shadow-sm { box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); }
.shadow { box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1); }
.shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1); }
.shadow-2xl { box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }

/* Effects */
.opacity-70 { opacity: 0.7; }
.overflow-hidden { overflow: hidden; }
.backdrop-blur-md { backdrop-filter: blur(12px); }
.pointer-events-none { pointer-events: none; }
.drop-shadow-text { filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.8)); }

/* Transitions */
.transition-colors { transition-property: color, background-color, border-color; transition-duration: 150ms; }
.transition-transform { transition-property: transform; transition-duration: 150ms; }
.transition-all { transition-property: all; transition-duration: 150ms; }

/* Interactive States */
.hover\:text-blue-600:hover { color: #2563eb; }
.hover\:bg-blue-700:hover { background-color: #1d4ed8; }
.hover\:bg-gray-100:hover { background-color: #f3f4f6; }
.hover\:scale-105:hover { transform: scale(1.05); }
.active\:scale-95:active { transform: scale(0.95); }
.focus\:border-blue-500:focus { border-color: #3b82f6; }
.focus\:ring-blue-500:focus {
  outline: 2px solid transparent;
  outline-offset: 2px;
  box-shadow: 0 0 0 2px #fff, 0 0 0 4px #3b82f6;
}

/* Display */
.block { display: block; }
.hidden { display: none; }

/* Form Elements */
input, textarea {
  appearance: none;
  background-color: #fff;
}
input:focus, textarea:focus {
  outline: none;
}

/* Responsive - md (768px) */
@media (min-width: 768px) {
  .md\:flex { display: flex; }
  .md\:px-8 { padding-left: 2rem; padding-right: 2rem; }
  .md\:max-w-xl { max-width: 36rem; }
  .md\:text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
}

/* Responsive - lg (1024px) */
@media (min-width: 1024px) {
  .lg\:max-w-2xl { max-width: 42rem; }
}
  
  body { margin: 0; font-family: 'Noto Sans JP', sans-serif; background: #f9fafb; }
  .header { position:sticky;top:0; z-index:50; display:flex; height:64px; align-items:center; justify-content:space-between; background:rgba(255,255,255,0.9); padding:0 32px; box-shadow:0 1px 3px rgba(0,0,0,0.1); backdrop-filter:blur(8px); }
  .header-logo { font-size:1.25rem; font-weight:700; color:#111827; }
  .header-cta { display:inline-block; background:#2563eb; color:#fff; padding:8px 24px; border-radius:9999px; font-size:0.875rem; font-weight:700; text-decoration:none; box-shadow:0 4px 6px rgba(37,99,235,0.3); transition:transform 0.15s; }
  .header-cta:hover { transform:scale(1.05); }
  .main-content { max-width:768px; margin:0 auto; background:#fff; box-shadow:0 25px 50px -12px rgba(0,0,0,0.15); }
  .footer { background:#111827; padding:32px; text-align:center; color:#fff; font-size:0.875rem; opacity:0.7; }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-logo"></div>
    <a href="#contact" class="header-cta"></a>
  </header>
  <main class="main-content">
    <section style="position:relative;width:100%;overflow:hidden;">
      
      <img src="https://jqpavdhxvmvuhwrbnosd.supabase.co/storage/v1/object/public/images/inpaint-1769684144188-154026526.png" alt="hero" style="display:block;width:100%;height:auto;filter: brightness(100%) grayscale(0%)" class="desktop-img" />
      
    </section>
    <section style="position:relative;width:100%;overflow:hidden;">
      
      <img src="https://jqpavdhxvmvuhwrbnosd.supabase.co/storage/v1/object/public/images/sections/51/cropped_3672_1769682035432.png" alt="other" style="display:block;width:100%;height:auto;filter: brightness(100%) grayscale(0%)" class="desktop-img" />
      
    </section>
    <section style="position:relative;width:100%;overflow:hidden;">
      
      <img src="https://jqpavdhxvmvuhwrbnosd.supabase.co/storage/v1/object/public/images/text-fix-1769683134087-554779722.png" alt="other" style="display:block;width:100%;height:auto;filter: brightness(100%) grayscale(0%)" class="desktop-img" />
      
    </section>
    <section style="position:relative;width:100%;overflow:hidden;">
      
      <img src="https://jqpavdhxvmvuhwrbnosd.supabase.co/storage/v1/object/public/images/sections/51/cropped_3692_1769682083143.png" alt="other" style="display:block;width:100%;height:auto;filter: brightness(100%) grayscale(0%)" class="desktop-img" />
      
    </section>
    <section style="position:relative;width:100%;overflow:hidden;">
      
      <img src="https://jqpavdhxvmvuhwrbnosd.supabase.co/storage/v1/object/public/images/sections/51/cropped_3700_1769682102519.png" alt="other" style="display:block;width:100%;height:auto;filter: brightness(100%) grayscale(0%)" class="desktop-img" />
      
    </section>
    <!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>お問い合わせ</title>
  <style>
    :root {
      --color-primary: #FF69B4; /* Pink */
      --color-secondary: #fff; /* White */
      --color-accent: #90EE90; /* Green */
      --color-bg: #ffe4e1; /* Light Pink */
      --color-surface: #fff5f5; /* Lighter Pink */
      --color-border: rgba(255, 105, 180, 0.1); /* Pink with 10% opacity */
      --color-border-focus: #FF69B4; /* Pink */
      --color-text: #333; /* Dark Gray */
      --color-text-muted: rgba(51, 51, 51, 0.6); /* Dark Gray with 60% opacity */
      --color-error: #dc2626; /* Red */
      --font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", sans-serif;
      --transition-duration: 150ms;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 40px;
      font-family: var(--font-family);
      color: var(--color-text);
      background-color: var(--color-bg);
      line-height: 1.7;
      font-size: 16px;
    }

    h1 {
      font-size: clamp(2rem, 3vw, 2.5rem);
      font-weight: 700;
      letter-spacing: 0.05em;
      margin-bottom: 0.5em;
      text-align: center;
    }

    p {
      text-align: center;
      color: var(--color-text-muted);
      margin-bottom: 2em;
    }

    .form-container {
      background-color: var(--color-surface);
      border-radius: 2px;
      padding: 20px;
      max-width: 720px;
      margin: 0 auto;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .progress-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 24px;
    }

    .progress-step {
      flex: 1;
      text-align: center;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--color-border);
      position: relative;
      font-size: 0.875rem;
      color: var(--color-text-muted);
    }

    .progress-step.active {
      color: var(--color-primary);
      font-weight: 600;
      border-color: var(--color-primary);
    }

    .progress-step:not(:last-child)::after {
      content: "";
      position: absolute;
      top: 50%;
      right: 0;
      width: 100%;
      height: 2px;
      background-color: var(--color-border);
      transform: translateY(-50%);
      z-index: -1;
    }
    .progress-step.completed:not(:last-child)::after {
      background-color: var(--color-primary);
    }


    form {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    label {
      font-size: 0.875rem;
      margin-bottom: 4px;
      display: inline-block;
    }

    label .required-mark {
      color: var(--color-error);
      margin-left: 2px;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
      padding: 10px;
      border: 1px solid var(--color-border);
      border-radius: 2px;
      font-family: var(--font-family);
      font-size: 1rem;
      color: var(--color-text);
      transition: border-color var(--transition-duration) ease;
      appearance: none; /* Remove default select styling */
      background-color: var(--color-surface); /* Match form background */
      -webkit-appearance: none;
      -moz-appearance: none;

    }

    select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 10px center;
      background-size: 1em;
      padding-right: 30px;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="tel"]:focus,
    select:focus,
    textarea:focus {
      border-color: var(--color-border-focus);
      outline: none;
    }

    input::placeholder,
    textarea::placeholder {
      color: var(--color-text-muted);
    }

    .error-message {
      font-size: 12px;
      color: var(--color-error);
      margin-top: 4px;
    }

    button[type="submit"] {
      background-color: var(--color-primary);
      color: #fff;
      font-family: var(--font-family);
      font-weight: 600;
      padding: 12px 24px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color var(--transition-duration) ease;
      font-size: 1rem;
    }

    button[type="submit"]:hover {
      filter: brightness(0.92);
    }

    button[type="submit"]:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .field-half {
      width: 100%;
    }

    /* Confirmation Screen Styles */
    .confirmation-details {
      margin-bottom: 24px;
    }

    .confirmation-details dl {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 8px 16px;
    }

    .confirmation-details dt {
      font-weight: 600;
    }

    .confirmation-details dd {
      margin: 0;
    }

    .confirmation-buttons {
      display: flex;
      justify-content: space-between;
    }

    .confirmation-buttons button {
      padding: 12px 24px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-family: var(--font-family);
      font-weight: 600;
      font-size: 1rem;
      transition: background-color var(--transition-duration) ease;
    }

    .confirmation-buttons .back-button {
      background-color: #ddd;
      color: #333;
    }

    .confirmation-buttons .back-button:hover {
      background-color: #ccc;
    }

    .confirmation-buttons .submit-button {
      background-color: var(--color-primary);
      color: #fff;
    }

    .confirmation-buttons .submit-button:hover {
      filter: brightness(0.92);
    }

    /* Completion Screen Styles */
    .completion-message {
      text-align: center;
      font-size: 1.25rem;
      margin-bottom: 16px;
    }

    .completion-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: var(--color-accent);
      margin: 0 auto 20px;
      position: relative;
    }

    .completion-icon::before,
    .completion-icon::after {
      content: "";
      position: absolute;
      background-color: #fff;
    }

    .completion-icon::before {
      width: 2px;
      height: 30px;
      left: 50%;
      top: 15%;
      transform: translateX(-50%) rotate(45deg);
    }

    .completion-icon::after {
      width: 12px;
      height: 2px;
      left: 27%;
      top: 50%;
      transform: translateY(-50%) rotate(45deg);
    }

    .hidden {
      display: none !important;
    }

    @media (min-width: 768px) {
      form {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;
      }

      .form-group {
        width: calc(50% - 12px);
        flex-direction: column;
      }

      .field-half {
        width: auto;
      }

      .progress-bar {
        margin-bottom: 32px;
      }
    }

    @media (min-width: 1024px) {
      .form-container {
        padding: 32px;
      }

      form {
        gap: 24px;
      }
    }
    /* Spinner */
    .spinner {
      border: 3px solid rgba(0, 0, 0, 0.1);
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border-left-color: var(--color-secondary);
      animation: spin 1s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-left: 8px;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>お問い合わせ</h1>
    <p>下記フォームよりお気軽にお問い合わせください</p>

    <div class="form-container">
      <div class="progress-bar">
        <div class="progress-step active" data-step="1">入力</div>
        <div class="progress-step" data-step="2">確認</div>
        <div class="progress-step" data-step="3">完了</div>
      </div>

      <form id="contactForm" role="form" aria-label="お問い合わせフォーム">
        <div id="step1">
          <div class="form-group">
            <label for="companyName">会社名</label>
            <input type="text" id="companyName" name="companyName" placeholder="株式会社〇〇">
          </div>

          <div class="form-group">
            <label for="name">お名前<span class="required-mark">*</span></label>
            <input type="text" id="name" name="name" placeholder="山田 太郎" required aria-required="true">
            <div id="name-error" class="error-message hidden" role="alert">お名前を入力してください。</div>
          </div>

          <div class="form-group">
            <label for="email">メールアドレス<span class="required-mark">*</span></label>
            <input type="email" id="email" name="email" placeholder="example@company.co.jp" required aria-required="true">
            <div id="email-error" class="error-message hidden" role="alert">有効なメールアドレスを入力してください。</div>
          </div>

          <div class="form-group">
            <label for="tel">電話番号</label>
            <input type="tel" id="tel" name="tel" placeholder="03-0000-0000">
            <div id="tel-error" class="error-message hidden" role="alert">有効な電話番号を入力してください。</div>
          </div>

          <div class="form-group">
            <label for="inquiryType">お問い合わせ種別<span class="required-mark">*</span></label>
            <select id="inquiryType" name="inquiryType" required aria-required="true">
              <option value="" disabled selected>選択してください</option>
              <option value="サービスについて">サービスについて</option>
              <option value="お見積もり依頼">お見積もり依頼</option>
              <option value="採用について">採用について</option>
              <option value="その他">その他</option>
            </select>
            <div id="inquiryType-error" class="error-message hidden" role="alert">お問い合わせ種別を選択してください。</div>
          </div>

          <div class="form-group">
            <label for="inquiryContent">お問い合わせ内容<span class="required-mark">*</span></label>
            <textarea id="inquiryContent" name="inquiryContent" placeholder="お問い合わせ内容をご記入ください" required aria-required="true"></textarea>
            <div id="inquiryContent-error" class="error-message hidden" role="alert">お問い合わせ内容を入力してください。</div>
          </div>

          <div class="form-group">
            <label for="notes">備考・ご要望（任意）</label>
            <textarea id="notes" name="notes" placeholder="納期のご希望や参考URLなど、何でもご自由にご記入ください"></textarea>
          </div>

          <button type="submit" id="submitButton">確認画面へ</button>
        </div>

        <div id="step2" class="hidden">
          <h2>入力内容確認</h2>
          <div class="confirmation-details">
            <dl>
              <dt>会社名</dt>
              <dd id="confirmationCompanyName"></dd>

              <dt>お名前</dt>
              <dd id="confirmationName"></dd>

              <dt>メールアドレス</dt>
              <dd id="confirmationEmail"></dd>

              <dt>電話番号</dt>
              <dd id="confirmationTel"></dd>

              <dt>お問い合わせ種別</dt>
              <dd id="confirmationInquiryType"></dd>

              <dt>お問い合わせ内容</dt>
              <dd id="confirmationInquiryContent"></dd>

              <dt>備考・ご要望</dt>
              <dd id="confirmationNotes"></dd>
            </dl>
          </div>

          <div class="confirmation-buttons">
            <button type="button" class="back-button" id="backButton">戻る</button>
            <button type="button" class="submit-button" id="confirmSubmitButton">送信する</button>
          </div>
        </div>

        <div id="step3" class="hidden" role="status">
          <div class="completion-icon"></div>
          <p class="completion-message">送信が完了しました。2営業日以内にご連絡いたします。</p>
        </div>
      </form>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('contactForm');
      const submitButton = document.getElementById('submitButton');
      const confirmSubmitButton = document.getElementById('confirmSubmitButton');
      const backButton = document.getElementById('backButton');

      const step1 = document.getElementById('step1');
      const step2 = document.getElementById('step2');
      const step3 = document.getElementById('step3');

      const progressBar = document.querySelector('.progress-bar');
      const progressSteps = document.querySelectorAll('.progress-step');

      // Validation functions
      function validateName() {
        const nameInput = document.getElementById('name');
        const nameError = document.getElementById('name-error');
        if (!nameInput.value.trim()) {
          nameError.classList.remove('hidden');
          nameInput.setAttribute('aria-invalid', 'true');
          nameInput.style.borderColor = 'var(--color-error)';
          return false;
        } else {
          nameError.classList.add('hidden');
          nameInput.removeAttribute('aria-invalid');
          nameInput.style.borderColor = '';
          return true;
        }
      }

      function validateEmail() {
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('email-error');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(emailInput.value)) {
          emailError.classList.remove('hidden');
          emailInput.setAttribute('aria-invalid', 'true');
          emailInput.style.borderColor = 'var(--color-error)';
          return false;
        } else {
          emailError.classList.add('hidden');
          emailInput.removeAttribute('aria-invalid');
          emailInput.style.borderColor = '';
          return true;
        }
      }

      function validateTel() {
        const telInput = document.getElementById('tel');
        const telError = document.getElementById('tel-error');
        const telRegex = /^[0-9-]+$/;
        if (telInput.value && (!telRegex.test(telInput.value) || telInput.value.replace(/[^0-9]/g, '').length < 10 || telInput.value.replace(/[^0-9]/g, '').length > 11)) {
          telError.classList.remove('hidden');
          telInput.setAttribute('aria-invalid', 'true');
          telInput.style.borderColor = 'var(--color-error)';
          return false;
        } else {
          telError.classList.add('hidden');
          telInput.removeAttribute('aria-invalid');
          telInput.style.borderColor = '';
          return true;
        }
      }

      function validateInquiryType() {
        const inquiryTypeInput = document.getElementById('inquiryType');
        const inquiryTypeError = document.getElementById('inquiryType-error');
        if (!inquiryTypeInput.value) {
          inquiryTypeError.classList.remove('hidden');
          inquiryTypeInput.setAttribute('aria-invalid', 'true');
          inquiryTypeInput.style.borderColor = 'var(--color-error)';
          return false;
        } else {
          inquiryTypeError.classList.add('hidden');
          inquiryTypeInput.removeAttribute('aria-invalid');
          inquiryTypeInput.style.borderColor = '';
          return true;
        }
      }

      function validateInquiryContent() {
        const inquiryContentInput = document.getElementById('inquiryContent');
        const inquiryContentError = document.getElementById('inquiryContent-error');
        if (!inquiryContentInput.value.trim()) {
          inquiryContentError.classList.remove('hidden');
          inquiryContentInput.setAttribute('aria-invalid', 'true');
          inquiryContentInput.style.borderColor = 'var(--color-error)';
          return false;
        } else {
          inquiryContentError.classList.add('hidden');
          inquiryContentInput.removeAttribute('aria-invalid');
          inquiryContentInput.style.borderColor = '';
          return true;
        }
      }

      function updateProgressBar(step) {
        progressSteps.forEach(stepElement => {
          const stepNumber = parseInt(stepElement.dataset.step);
          stepElement.classList.remove('active', 'completed');

          if (stepNumber < step) {
            stepElement.classList.add('completed');
          } else if (stepNumber === step) {
            stepElement.classList.add('active');
          }
        });
      }
      // Event listeners for real-time validation
      document.getElementById('name').addEventListener('input', validateName);
      document.getElementById('email').addEventListener('input', validateEmail);
      document.getElementById('tel').addEventListener('input', validateTel);
      document.getElementById('inquiryType').addEventListener('change', validateInquiryType);
      document.getElementById('inquiryContent').addEventListener('input', validateInquiryContent);

      // Submit button click event
      submitButton.addEventListener('click', function(event) {
        event.preventDefault();

        const isNameValid = validateName();
        const isEmailValid = validateEmail();
        const isTelValid = validateTel();
        const isInquiryTypeValid = validateInquiryType();
        const isInquiryContentValid = validateInquiryContent();

        if (isNameValid && isEmailValid && isTelValid && isInquiryTypeValid && isInquiryContentValid) {
          // Populate confirmation details
          document.getElementById('confirmationCompanyName').textContent = document.getElementById('companyName').value;
          document.getElementById('confirmationName').textContent = document.getElementById('name').value;
          document.getElementById('confirmationEmail').textContent = document.getElementById('email').value;
          document.getElementById('confirmationTel').textContent = document.getElementById('tel').value;
          document.getElementById('confirmationInquiryType').textContent = document.getElementById('inquiryType').value;
          document.getElementById('confirmationInquiryContent').textContent = document.getElementById('inquiryContent').value;
          document.getElementById('confirmationNotes').textContent = document.getElementById('notes').value;

          // Show step 2, hide step 1
          step1.classList.add('hidden');
          step2.classList.remove('hidden');
          updateProgressBar(2);

        }
      });

      // Back button click event
      backButton.addEventListener('click', function() {
        step2.classList.add('hidden');
        step1.classList.remove('hidden');
        updateProgressBar(1);
      });

      // Confirm Submit button click event
      confirmSubmitButton.addEventListener('click', async function() {
        const formData = {
          companyName: document.getElementById('companyName').value,
          name: document.getElementById('name').value,
          email: document.getElementById('email').value,
          tel: document.getElementById('tel').value,
          inquiryType: document.getElementById('inquiryType').value,
          inquiryContent: document.getElementById('inquiryContent').value,
          notes: document.getElementById('notes').value
        };

        submitButton.disabled = true;
        confirmSubmitButton.disabled = true;
        confirmSubmitButton.innerHTML = '送信中... <span class="spinner"></span>';


        try {
          const response = await fetch('/api/form-submissions', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              pageSlug: window.location.pathname.split('/').pop() || 'unknown',
              formTitle: 'お問い合わせ',
              formFields: Object.entries(formData).map(([key, value]) => ({
                fieldName: key,
                fieldLabel: document.querySelector(`label[for="${key}"]`)?.textContent?.replace('*', '').trim() || key,
                value: String(value)
              }))
            })
          });

          if (response.ok) {
            // Hide step 2, show step 3
            step2.classList.add('hidden');
            step3.classList.remove('hidden');
            updateProgressBar(3);
          } else {
            console.error('Form submission failed:', response.status);
            confirmSubmitButton.innerHTML = '送信する';
            alert('送信に失敗しました。しばらくしてからもう一度お試しください。');
          }
        } catch (error) {
          console.error('Network error:', error);
          confirmSubmitButton.innerHTML = '送信する';
          alert('送信に失敗しました。ネットワーク接続を確認してもう一度お試しください。');
        } finally {
          submitButton.disabled = false;
          confirmSubmitButton.disabled = false;
        }
      });
    });
  </script>
</body>
</html>
    <!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>お問い合わせ</title>
  <style>
    :root {
      --color-primary: #ff69b4;
      --color-secondary: #fff;
      --color-accent: #90ee90;
      --color-bg: #ffe4e1;
      --color-surface: #fffafa;
      --color-border: rgba(255, 105, 180, 0.1);
      --color-border-focus: #ff69b4;
      --color-text: #333;
      --color-text-muted: rgba(51, 51, 51, 0.6);
      --color-error: #dc2626;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    body {
      font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", sans-serif;
      margin: 0;
      padding: 40px;
      background-color: var(--color-bg);
      color: var(--color-text);
      line-height: 1.7;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    h1 {
      font-size: clamp(2rem, 5vw, 2.5rem);
      font-weight: 600;
      letter-spacing: 0.05em;
      margin-bottom: 0.5em;
    }

    p {
      font-size: 1rem;
      margin-bottom: 1.5em;
    }

    .container {
      max-width: 720px;
      margin: 0 auto;
      width: 100%;
    }

    .progress-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 24px;
    }

    .progress-step {
      flex: 1;
      text-align: center;
      position: relative;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--color-text-muted);
    }

    .progress-step:not(:last-child)::after {
      content: "";
      position: absolute;
      top: 50%;
      right: 0;
      width: 100%;
      height: 2px;
      background-color: var(--color-border);
      transform: translateY(-50%);
      z-index: -1;
    }

    .progress-step.active {
      color: var(--color-primary);
      font-weight: bold;
    }

    .progress-step.active::after {
      background-color: var(--color-primary);
    }

    .form-area {
      background-color: var(--color-surface);
      padding: 20px;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    form {
      display: grid;
      gap: 16px;
    }

    label {
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
      font-size: 0.9rem;
    }

    label .required {
      color: var(--color-error);
      margin-left: 4px;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid var(--color-border);
      border-radius: 2px;
      font-family: inherit;
      font-size: 1rem;
      color: var(--color-text);
      background-color: var(--color-surface);
      transition: border-color 150ms ease;
      appearance: none;
    }

    input[type="text"]::placeholder,
    input[type="email"]::placeholder,
    input[type="tel"]::placeholder,
    textarea::placeholder {
      color: var(--color-text-muted);
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="tel"]:focus,
    select:focus,
    textarea:focus {
      border-color: var(--color-border-focus);
      outline: none;
      box-shadow: none;
    }

    select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23666' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
      padding-right: 40px;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    button[type="submit"] {
      background-color: var(--color-primary);
      color: var(--color-secondary);
      font-size: 1rem;
      font-weight: 600;
      padding: 12px 24px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 150ms ease;
      width: 100%;
      min-height: 44px;
    }

    button[type="submit"]:hover {
      filter: brightness(0.92);
    }

    button[type="submit"]:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .error-message {
      font-size: 0.75rem;
      color: var(--color-error);
      margin-top: 4px;
    }

    input[aria-invalid="true"],
    select[aria-invalid="true"],
    textarea[aria-invalid="true"] {
      border-color: var(--color-error);
    }

    .form-row {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .form-row.half-width {
      width: 100%;
    }

    /* 確認画面 */
    .confirmation-section {
      margin-top: 24px;
    }

    .confirmation-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .confirmation-item {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 16px;
      padding: 12px 0;
      border-bottom: 1px solid var(--color-border);
    }

    .confirmation-item:last-child {
      border-bottom: none;
    }

    .confirmation-label {
      font-weight: 500;
    }

    .confirmation-value {
      word-break: break-word;
    }

    .confirmation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 24px;
      gap: 16px;
    }

    .confirmation-buttons button {
      width: 100%;
    }

    /* 完了画面 */
    .completion-section {
      text-align: center;
      padding: 40px 20px;
    }

    .completion-icon {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background-color: var(--color-primary);
      margin: 0 auto 20px;
      position: relative;
    }

    .completion-icon::before,
    .completion-icon::after {
      content: '';
      position: absolute;
      background-color: var(--color-secondary);
    }

    .completion-icon::before {
      width: 2px;
      height: 30px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(45deg);
    }

    .completion-icon::after {
      width: 2px;
      height: 16px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-45deg);
    }

    .loading-spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid var(--color-secondary);
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      display: inline-block;
      margin-left: 8px;
      vertical-align: middle;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @media (min-width: 768px) {
      .form-row {
        flex-direction: row;
        align-items: center;
      }

      .form-row.half-width {
        width: calc(50% - 8px);
      }

      form {
        gap: 24px;
      }

      .form-area {
        padding: 32px;
      }

      body {
        padding: 60px;
      }
    }

    @media (min-width: 1024px) {
      form {
        gap: 24px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="progress-bar">
      <div class="progress-step active">入力</div>
      <div class="progress-step">確認</div>
      <div class="progress-step">完了</div>
    </div>

    <section id="formSection">
      <h1>お問い合わせ</h1>
      <p>下記フォームよりお気軽にお問い合わせください。</p>
      <div class="form-area">
        <form id="contactForm" role="form" aria-label="お問い合わせフォーム">

          <div class="form-row">
            <div class="form-row half-width">
              <label for="companyName">会社名</label>
              <input type="text" id="companyName" name="companyName" placeholder="株式会社〇〇">
            </div>

            <div class="form-row half-width">
              <label for="name">お名前<span class="required">*</span></label>
              <input type="text" id="name" name="name" placeholder="山田 太郎" required aria-required="true">
              <div id="nameError" class="error-message" aria-live="polite"></div>
            </div>
          </div>


          <label for="email">メールアドレス<span class="required">*</span></label>
          <input type="email" id="email" name="email" placeholder="example@company.co.jp" required
            aria-required="true">
          <div id="emailError" class="error-message" aria-live="polite"></div>

          <label for="tel">電話番号</label>
          <input type="tel" id="tel" name="tel" placeholder="03-0000-0000">
          <div id="telError" class="error-message" aria-live="polite"></div>

          <label for="inquiryType">お問い合わせ種別<span class="required">*</span></label>
          <select id="inquiryType" name="inquiryType" required aria-required="true">
            <option value="">選択してください</option>
            <option value="service">サービスについて</option>
            <option value="estimate">お見積もり依頼</option>
            <option value="recruit">採用について</option>
            <option value="other">その他</option>
          </select>
          <div id="inquiryTypeError" class="error-message" aria-live="polite"></div>

          <label for="inquiryContent">お問い合わせ内容<span class="required">*</span></label>
          <textarea id="inquiryContent" name="inquiryContent" placeholder="お問い合わせ内容をご記入ください" required
            aria-required="true"></textarea>
          <div id="inquiryContentError" class="error-message" aria-live="polite"></div>

          <label for="notes">備考・ご要望（任意）</label>
          <textarea id="notes" name="notes"
            placeholder="納期のご希望や参考URLなど、何でもご自由にご記入ください"></textarea>

          <button type="submit" id="submitButton">確認画面へ</button>
        </form>
      </div>
    </section>

    <section id="confirmationSection" class="confirmation-section" style="display: none;" role="alert">
      <h2>お問い合わせ内容の確認</h2>
      <p>入力内容をご確認ください。修正が必要な場合は「修正する」ボタンをクリックしてください。</p>
      <ul class="confirmation-list">
        <li class="confirmation-item">
          <div class="confirmation-label">会社名</div>
          <div class="confirmation-value" id="confirmationCompanyName"></div>
        </li>
        <li class="confirmation-item">
          <div class="confirmation-label">お名前</div>
          <div class="confirmation-value" id="confirmationName"></div>
        </li>
        <li class="confirmation-item">
          <div class="confirmation-label">メールアドレス</div>
          <div class="confirmation-value" id="confirmationEmail"></div>
        </li>
        <li class="confirmation-item">
          <div class="confirmation-label">電話番号</div>
          <div class="confirmation-value" id="confirmationTel"></div>
        </li>
        <li class="confirmation-item">
          <div class="confirmation-label">お問い合わせ種別</div>
          <div class="confirmation-value" id="confirmationInquiryType"></div>
        </li>
        <li class="confirmation-item">
          <div class="confirmation-label">お問い合わせ内容</div>
          <div class="confirmation-value" id="confirmationInquiryContent"></div>
        </li>
        <li class="confirmation-item">
          <div class="confirmation-label">備考・ご要望</div>
          <div class="confirmation-value" id="confirmationNotes"></div>
        </li>
      </ul>

      <div class="confirmation-buttons">
        <button type="button" id="backButton">修正する</button>
        <button type="button" id="sendButton">送信する</button>
      </div>
    </section>

    <section id="completionSection" class="completion-section" style="display: none;" role="status">
      <div class="completion-icon"></div>
      <h2>送信が完了しました</h2>
      <p>お問い合わせありがとうございます。<br>2営業日以内にご連絡いたします。</p>
    </section>

  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('contactForm');
      const submitButton = document.getElementById('submitButton');
      const backButton = document.getElementById('backButton');
      const sendButton = document.getElementById('sendButton');

      const formSection = document.getElementById('formSection');
      const confirmationSection = document.getElementById('confirmationSection');
      const completionSection = document.getElementById('completionSection');

      const nameInput = document.getElementById('name');
      const emailInput = document.getElementById('email');
      const telInput = document.getElementById('tel');
      const inquiryTypeSelect = document.getElementById('inquiryType');
      const inquiryContentTextarea = document.getElementById('inquiryContent');

      const nameError = document.getElementById('nameError');
      const emailError = document.getElementById('emailError');
      const telError = document.getElementById('telError');
      const inquiryTypeError = document.getElementById('inquiryTypeError');
      const inquiryContentError = document.getElementById('inquiryContentError');

      const confirmationCompanyName = document.getElementById('confirmationCompanyName');
      const confirmationName = document.getElementById('confirmationName');
      const confirmationEmail = document.getElementById('confirmationEmail');
      const confirmationTel = document.getElementById('confirmationTel');
      const confirmationInquiryType = document.getElementById('confirmationInquiryType');
      const confirmationInquiryContent = document.getElementById('confirmationInquiryContent');
      const confirmationNotes = document.getElementById('confirmationNotes');

      function validateForm() {
        let isValid = true;

        // Name validation
        if (!nameInput.value.trim()) {
          nameError.textContent = 'お名前を入力してください。';
          nameInput.setAttribute('aria-invalid', 'true');
          isValid = false;
        } else {
          nameError.textContent = '';
          nameInput.setAttribute('aria-invalid', 'false');
        }

        // Email validation
        if (!emailInput.value.trim()) {
          emailError.textContent = 'メールアドレスを入力してください。';
          emailInput.setAttribute('aria-invalid', 'true');
          isValid = false;
        } else if (!isValidEmail(emailInput.value.trim())) {
          emailError.textContent = '有効なメールアドレスを入力してください。';
          emailInput.setAttribute('aria-invalid', 'true');
          isValid = false;
        } else {
          emailError.textContent = '';
          emailInput.setAttribute('aria-invalid', 'false');
        }

        // Tel validation
        if (telInput.value.trim() && !isValidTel(telInput.value.trim())) {
          telError.textContent = '有効な電話番号を入力してください（数字とハイフンのみ）。';
          telInput.setAttribute('aria-invalid', 'true');
          isValid = false;
        } else {
          telError.textContent = '';
          telInput.setAttribute('aria-invalid', 'false');
        }

        // Inquiry Type validation
        if (!inquiryTypeSelect.value) {
          inquiryTypeError.textContent = 'お問い合わせ種別を選択してください。';
          inquiryTypeSelect.setAttribute('aria-invalid', 'true');
          isValid = false;
        } else {
          inquiryTypeError.textContent = '';
          inquiryTypeSelect.setAttribute('aria-invalid', 'false');
        }

        // Inquiry Content validation
        if (!inquiryContentTextarea.value.trim()) {
          inquiryContentError.textContent = 'お問い合わせ内容を入力してください。';
          inquiryContentTextarea.setAttribute('aria-invalid', 'true');
          isValid = false;
        } else {
          inquiryContentError.textContent = '';
          inquiryContentTextarea.setAttribute('aria-invalid', 'false');
        }

        return isValid;
      }

      function isValidEmail(email) {
        // Basic email validation (presence of @ and .)
        return email.includes('@') && email.includes('.');
      }

      function isValidTel(tel) {
        const telRegex = /^[0-9-]+$/;
        return telRegex.test(tel) && (tel.length >= 10 && tel.length <= 12);
      }

      // Real-time validation
      nameInput.addEventListener('input', () => {
        if (nameInput.getAttribute('aria-invalid') === 'true') {
          validateForm();
        }
      });
      emailInput.addEventListener('input', () => {
        if (emailInput.getAttribute('aria-invalid') === 'true') {
          validateForm();
        }
      });
      telInput.addEventListener('input', () => {
        if (telInput.getAttribute('aria-invalid') === 'true') {
          validateForm();
        }
      });
      inquiryTypeSelect.addEventListener('change', () => {
        if (inquiryTypeSelect.getAttribute('aria-invalid') === 'true') {
          validateForm();
        }
      });
      inquiryContentTextarea.addEventListener('input', () => {
        if (inquiryContentTextarea.getAttribute('aria-invalid') === 'true') {
          validateForm();
        }
      });


      submitButton.addEventListener('click', function (event) {
        event.preventDefault();
        if (validateForm()) {
          confirmationCompanyName.textContent = document.getElementById('companyName').value;
          confirmationName.textContent = nameInput.value;
          confirmationEmail.textContent = emailInput.value;
          confirmationTel.textContent = telInput.value;
          confirmationInquiryType.textContent = inquiryTypeSelect.options[inquiryTypeSelect.selectedIndex].text;
          confirmationInquiryContent.textContent = inquiryContentTextarea.value;
          confirmationNotes.textContent = document.getElementById('notes').value;

          formSection.style.display = 'none';
          confirmationSection.style.display = 'block';

          // Update progress bar
          document.querySelector('.progress-step.active').classList.remove('active');
          document.querySelectorAll('.progress-step')[1].classList.add('active');


        }
      });

      backButton.addEventListener('click', function () {
        formSection.style.display = 'block';
        confirmationSection.style.display = 'none';

        // Update progress bar
        document.querySelector('.progress-step.active').classList.remove('active');
        document.querySelectorAll('.progress-step')[0].classList.add('active');
      });

      sendButton.addEventListener('click', async function () {
        const formData = {
          companyName: document.getElementById('companyName').value,
          name: nameInput.value,
          email: emailInput.value,
          tel: telInput.value,
          inquiryType: inquiryTypeSelect.value,
          inquiryContent: inquiryContentTextarea.value,
          notes: document.getElementById('notes').value,
        };

        submitButton.disabled = true;
        submitButton.textContent = '送信中...';
        submitButton.insertAdjacentHTML('beforeend', '<span class="loading-spinner"></span>');
        sendButton.disabled = true;
        backButton.disabled = true;

        try {
          const response = await submitForm(formData);
          if (response.ok) {
            confirmationSection.style.display = 'none';
            completionSection.style.display = 'block';

            // Update progress bar
            document.querySelector('.progress-step.active').classList.remove('active');
            document.querySelectorAll('.progress-step')[2].classList.add('active');


          } else {
            alert('送信に失敗しました。しばらくしてから再度お試しください。');
            submitButton.disabled = false;
            submitButton.textContent = '確認画面へ';
            document.querySelector('.loading-spinner').remove();
            sendButton.disabled = false;
            backButton.disabled = false;
          }
        } catch (error) {
          console.error('送信エラー:', error);
          alert('ネットワークエラーが発生しました。再度お試しください。');
          submitButton.disabled = false;
          submitButton.textContent = '確認画面へ';
          document.querySelector('.loading-spinner').remove();
          sendButton.disabled = false;
          backButton.disabled = false;
        }
      });

      async function submitForm(formData) {
        const response = await fetch('/api/form-submissions', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            pageSlug: window.location.pathname.split('/').pop() || 'unknown',
            formTitle: 'お問い合わせ',
            formFields: Object.entries(formData).map(([key, value]) => ({
              fieldName: key,
              fieldLabel: document.querySelector(`label[for="${key}"]`)?.textContent?.replace('*', '').trim() || key,
              value: String(value)
            }))
          })
        });
        return response;
      }
    });
  </script>
</body>

</html>
  </main>
  <footer class="footer">
    <p>&copy; 2026 </p>
  </footer>
</body>
</html>